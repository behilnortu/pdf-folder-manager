<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Folder Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Left Sidebar: Folders -->
        <aside class="sidebar left-sidebar" id="left-sidebar">
            <h2>Folders</h2>
            <div class="toolbar">
                <select id="folder-sort-select" class="sort-select">
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                    <option value="date-desc">Newest First</option>
                    <option value="date-asc">Oldest First</option>
                </select>
                <button id="new-folder-btn" class="btn btn-primary" title="Create new folder">+ New Folder</button>
                <button id="new-heading-btn" class="btn btn-primary" title="Create new heading">+ New Heading</button>
                <button id="trash-btn" class="btn btn-secondary" title="View trash">üóëÔ∏è Trash <span id="trash-count" class="trash-count"></span></button>
            </div>
            <div id="folder-list" class="list">
                <p class="empty-message">No folders found</p>
            </div>
        </aside>

        <!-- Left Resize Handle -->
        <div class="resize-handle left-handle" id="left-resize-handle"></div>

        <!-- Main Section: PDF Viewer -->
        <main class="main-section" id="main-section">
            <div class="main-toolbar">
                <button id="notes-btn" class="toolbar-btn" style="display: none;" title="View/edit notes for this PDF">
                    <span class="toolbar-btn-icon">üìù</span>
                    <span class="toolbar-btn-text">Notes</span>
                </button>
                <button id="summarize-btn" class="toolbar-btn" style="display: none;" title="Generate AI summary of this PDF (32MB max)">
                    <span class="toolbar-btn-icon">‚ú®</span>
                    <span class="toolbar-btn-text">CLAUDE<br>Summarize<br><small>(32MB max)</small></span>
                </button>
                <button id="add-bookmark-btn" class="toolbar-btn" style="display: none;" title="Bookmark current page">
                    <span class="toolbar-btn-icon">üîñ</span>
                    <span class="toolbar-btn-text">Add Bookmark</span>
                </button>
                <button id="view-bookmarks-btn" class="toolbar-btn" style="display: none;" title="View all bookmarks">
                    <span class="toolbar-btn-icon">üìö</span>
                    <span class="toolbar-btn-text">Bookmarks</span>
                </button>
                <button id="download-pdf-btn" class="toolbar-btn" style="display: none;" title="Download PDF to open in your preferred app">
                    <span class="toolbar-btn-icon">‚¨áÔ∏è</span>
                    <span class="toolbar-btn-text">Download</span>
                </button>
                <button id="clear-pdf-btn" class="toolbar-btn" style="display: none;" title="Clear PDF viewer">
                    <span class="toolbar-btn-icon">‚úï</span>
                    <span class="toolbar-btn-text">Clear PDF</span>
                </button>
                <button id="theme-toggle-btn" class="toolbar-btn" title="Toggle dark mode">
                    <span class="toolbar-btn-icon theme-icon">üåô</span>
                    <span class="toolbar-btn-text">Dark Mode</span>
                </button>
            </div>
            <div id="pdf-viewer" class="pdf-viewer">
                <div class="welcome-message">
                    <h1>PDF Folder Manager</h1>
                    <p>Select a folder from the left sidebar to view PDFs</p>
                    <p>Click on a PDF from the right sidebar to view it here</p>
                </div>
            </div>
        </main>

        <!-- Right Resize Handle -->
        <div class="resize-handle right-handle" id="right-resize-handle"></div>

        <!-- Right Sidebar: PDF List -->
        <aside class="sidebar right-sidebar" id="right-sidebar">
            <h2>PDFs</h2>
            <div class="toolbar">
                <select id="pdf-sort-select" class="sort-select">
                    <option value="name-asc">Name (A-Z)</option>
                    <option value="name-desc">Name (Z-A)</option>
                    <option value="date-desc">Newest First</option>
                    <option value="date-asc">Oldest First</option>
                    <option value="size-desc">Largest First</option>
                    <option value="size-asc">Smallest First</option>
                </select>
                <input type="text" id="search-input" class="search-input" placeholder="Search PDFs...">
                <div class="search-scope">
                    <label class="checkbox-label">
                        <input type="checkbox" id="global-search-checkbox">
                        <span>Search all folders</span>
                    </label>
                </div>
                <button id="upload-pdf-btn" class="btn btn-primary" title="Upload PDF">+ Upload PDF</button>
                <button id="bulk-select-btn" class="btn btn-secondary" title="Enable bulk selection">üìã Bulk Select</button>
            </div>

            <!-- Bulk actions toolbar (hidden by default) -->
            <div id="bulk-toolbar" class="bulk-toolbar" style="display: none;">
                <div class="bulk-info">
                    <span id="bulk-count">0 selected</span>
                    <button id="clear-selection-btn" class="btn-sm btn-secondary">Clear</button>
                </div>
                <div class="bulk-actions">
                    <button id="bulk-rename-btn" class="btn-sm btn-secondary">‚úèÔ∏è Rename</button>
                    <button id="bulk-duplicate-btn" class="btn-sm btn-secondary">üìã Duplicate</button>
                    <button id="bulk-move-btn" class="btn-sm btn-secondary">üìÅ Move</button>
                    <button id="bulk-delete-btn" class="btn-sm btn-danger">üóëÔ∏è Delete</button>
                </div>
            </div>

            <div id="pdf-list" class="list">
                <p class="empty-message">Select a folder to view PDFs</p>
            </div>
        </aside>
    </div>

    <!-- Modal for creating new folder -->
    <div id="folder-modal" class="modal">
        <div class="modal-content">
            <h3>Create New Folder</h3>
            <input type="text" id="folder-name-input" class="modal-input" placeholder="Enter folder name">
            <div class="modal-actions">
                <button id="create-folder-btn" class="btn btn-success">Create</button>
                <button id="cancel-folder-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for creating new heading -->
    <div id="heading-modal" class="modal">
        <div class="modal-content">
            <h3>Create New Heading</h3>
            <input type="text" id="heading-name-input" class="modal-input" placeholder="Enter heading name">
            <div class="modal-actions">
                <button id="create-heading-btn" class="btn btn-success">Create</button>
                <button id="cancel-heading-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for renaming -->
    <div id="rename-modal" class="modal">
        <div class="modal-content">
            <h3 id="rename-modal-title">Rename</h3>
            <input type="text" id="rename-input" class="modal-input" placeholder="Enter new name">
            <div class="modal-actions">
                <button id="rename-confirm-btn" class="btn btn-success">Rename</button>
                <button id="rename-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for trash -->
    <div id="trash-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üóëÔ∏è Trash</h3>
                <button id="empty-trash-btn" class="btn btn-danger btn-sm">Empty Trash</button>
            </div>
            <div id="trash-list" class="trash-list">
                <p class="empty-message">Trash is empty</p>
            </div>
            <div class="modal-actions">
                <button id="close-trash-btn" class="btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Modal for moving PDF -->
    <div id="move-modal" class="modal">
        <div class="modal-content">
            <h3>Move PDF to Folder</h3>
            <p id="move-pdf-name" style="margin-bottom: 15px; color: #666;"></p>
            <select id="move-folder-select" class="modal-input">
                <option value="">Select destination folder...</option>
            </select>
            <div class="modal-actions">
                <button id="move-confirm-btn" class="btn btn-success">Move</button>
                <button id="move-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for assigning folder to heading -->
    <div id="assign-folder-modal" class="modal">
        <div class="modal-content">
            <h3>Assign Folder to Heading</h3>
            <p id="assign-folder-name" style="margin-bottom: 15px; color: #666;"></p>
            <select id="assign-heading-select" class="modal-input">
                <option value="">Select heading...</option>
            </select>
            <div class="modal-actions">
                <button id="assign-confirm-btn" class="btn btn-success">Assign</button>
                <button id="assign-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for adding bookmark -->
    <div id="bookmark-modal" class="modal">
        <div class="modal-content">
            <h3>Add Bookmark</h3>
            <p id="bookmark-pdf-info" style="margin-bottom: 15px; color: #666;"></p>
            <input type="number" id="bookmark-page-input" class="modal-input" placeholder="Specify the pdf page number" min="1">
            <input type="text" id="bookmark-label-input" class="modal-input" placeholder="Bookmark label (optional)">
            <div class="modal-actions">
                <button id="bookmark-save-btn" class="btn btn-success">Save Bookmark</button>
                <button id="bookmark-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for viewing bookmarks -->
    <div id="bookmarks-view-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìö Bookmarks</h3>
            </div>
            <div id="bookmarks-list" class="trash-list">
                <p class="empty-message">No bookmarks yet</p>
            </div>
            <div class="modal-actions">
                <button id="close-bookmarks-btn" class="btn btn-secondary">Close</button>
            </div>
        </div>
    </div>

    <!-- Modal for PDF notes -->
    <div id="notes-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>üìù Notes</h3>
                <p id="notes-pdf-info" style="margin: 0; color: #666; font-size: 14px;"></p>
            </div>
            <textarea id="notes-textarea" class="notes-textarea" placeholder="Add notes or description for this PDF..."></textarea>
            <div class="modal-actions">
                <button id="notes-save-btn" class="btn btn-success">Save Notes</button>
                <button id="notes-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for bulk rename -->
    <div id="bulk-rename-modal" class="modal">
        <div class="modal-content modal-large">
            <h3>Bulk Rename (<span id="bulk-rename-count">0</span> PDFs)</h3>
            <div class="rename-options">
                <label>Add to beginning (prefix):</label>
                <input type="text" id="bulk-prefix-input" class="modal-input" placeholder="e.g., final_">

                <label>Add to end (suffix, before .pdf):</label>
                <input type="text" id="bulk-suffix-input" class="modal-input" placeholder="e.g., _v2">
            </div>

            <div id="bulk-rename-preview" class="bulk-preview">
                <!-- Preview list will be rendered here -->
            </div>

            <div class="modal-actions">
                <button id="bulk-rename-confirm-btn" class="btn btn-success">Rename All</button>
                <button id="bulk-rename-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Modal for bulk delete confirmation -->
    <div id="bulk-delete-modal" class="modal">
        <div class="modal-content modal-large">
            <h3>‚ö†Ô∏è Delete <span id="bulk-delete-count">0</span> PDFs?</h3>
            <div id="bulk-delete-list" class="bulk-preview">
                <!-- List of PDFs to delete -->
            </div>
            <p class="warning-text">This action will move all selected PDFs to trash.</p>
            <div class="modal-actions">
                <button id="bulk-delete-confirm-btn" class="btn btn-danger">Delete All</button>
                <button id="bulk-delete-cancel-btn" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Hidden file input for PDF upload -->
    <input type="file" id="pdf-file-input" accept=".pdf" style="display: none;" multiple>

    <script src="app.js"></script>
</body>
</html>
